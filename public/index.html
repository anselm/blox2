
<html>
<head>
<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />

<script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.2/Tone.js" integrity="sha512-mC+4OB44BnfNO5Tgllht1G+rdH82tMFKIM9pPNoQSMFqYm8PnPCffmmqTt68XpkAiJrmsQJwvFWDl8Br1o6vUw==" crossorigin="anonymous"></script>

<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@500&display=swap" rel="stylesheet">

<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r125/three.min.js" crossorigin="anonymous"></script>
<script src='https://cdn.jsdelivr.net/gh/mrdoob/Three.js@r125/examples/js/loaders/GLTFLoader.js'></script>


<script src="/socket.io/socket.io.js"></script>

<style>
body {
	touch-action: none;
	font-family: 'Roboto', sans-serif;
}
</style>
<style>
body { touch-action: none; }
</style>

</head>

<body>
</body>

</html>

<script type="module">

import {Net} from "/blox/net.js"
import {Blox} from "/blox/blox.js"

// connect to server
let net = new Net()

// make a root node for our app
let root = new Blox()

// pipe inbound network traffic to root
net.observe('*',root.onreceive.bind(root))

// pipe outbound traffic to network
Blox.prototype.publish = (blob)=> { net.publish(blob) }

// produce a world
root.name = root.path = "root" // TODO - unfortunately args are not in order
root.onload("/worlds/mainworld")

</script>
